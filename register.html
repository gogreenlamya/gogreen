<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <title>GoGreen</title> 

    <!-- mobile responsive meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


	<link rel="stylesheet" href="./public/css/responsive.css">
	<link rel="stylesheet" href="./public/css/style.css">

	<link rel="apple-touch-icon" sizes="180x180" href="./public/images/fav-icon/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="./public/images/fav-icon/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="./public/images/fav-icon/favicon-16x16.png" sizes="16x16">
    

</head>
<style>
    .dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}

 .dropdown-content {
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    width: 200px;
    padding: 10px 10px;
    z-index: 20;
}

.dropdown-content a{
    color: black;
    text-decoration: none;
    height: 34px;
    font-size: medium;
    width: 100%;
    text-align: start;
}
.dropdown-content a:hover{
    background-color: rgb(145, 209, 145); 
    color: white;
}
.popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 20px;
  background-color: #fff;
  border: 1px solid #ccc;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  z-index: 1000;
}

.popup.show {
  display: block;
}

</style>
<body>

<div class="boxed_wrapper">


<section class="theme_menu stricky">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="main-logo">
                    <a href="/"><img src="./public/images/logoo.png" alt=""></a>
                </div>
            </div>
            <div class="col-md-9 menu-column">
                <nav class="menuzord" id="main_menu">
                    <ul class="menuzord-menu">
                        <li><a href="/">Home</a></li>
                        <li><a href="/about">About Us</a></li>
                        <li id="register"><a href="/register">Register</a></li>
                        <li id="login"><a href="/login">Login</a></li>
                        <li><a href="/volunteer">Volunteer</a></li>
                        <li id="profile" style="display: none;"><a href="/profile">Profile</a></li>
                        <li><a href="/feedback">Feedback</a></li>
                        <li><a href="/faq">FAQ</a></li>
                        <!-- <li id="profileicon"class="profile_icon"><a href=""><i class="bi bi-person"></i></a></li>
    
                            <div class="popup" style="width: 159px;display: none;  position: fixed; left: 87%; background-color: white; padding: 10px 20px; top: 76px;">
                            <button id="logoutBtn" style="outline: none; border:none;">Log Out</button>
                            <button class="close" style="border-radius: 50px;
                            border: 2px solid white;
                            padding: 0px 5px;
                            background-color: white;
                            font-weight: 700;
                            color: black;
                            opacity: 1;
                            position: absolute;
                            top: -11px;
                            right: -8px; ">X</button>
                            </div> -->
                       </ul>
                </nav> 
            </div>


        </div>
                

   </div>
</section>

 





<section class="register-section sec-padd-top">
    <div class="container" style="padding-top: 96px; height: 89vh;">
        <div class="row justify-content-center align-items-center"> 
            <div class="col-12 col-md-8 col-lg-6">
                <div class="section-title style-2">
                    <h3>Register Now</h3><br>
                    <h6>Already have an account?<p>  </p></a><a href="/login"> Log in</a></h6>
                </div>
                <div class="styled-form register-form">
                    <form method="post" action="/register">
                        <div class="form-group">
                            <span class="adon-icon"><span class="fa fa-user"></span></span>
                            <input type="text" name="name" value="" placeholder="Name" required>
                        </div>
                        <div class="form-group">
                            <span class="adon-icon"><span class="fa fa-envelope-o"></span></span>
                            <input type="email" name="email" value="" placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <span class="adon-icon"><span class="fa fa-unlock-alt"></span></span>
                            <input type="password" name="password" value="" placeholder="Password" required>
                        </div>
                        <div class="form-group">
        <span class="adon-icon"><span class="fa fa-lock"></span></span>
        <input type="password" name="confirm_password" id="confirmpassword" value="" placeholder="Confirm Password" required>
    </div>
                        <div class="clearfix">
                            <div class="form-group text-center">
                                <button type="submit" class="thm-btn thm-tran-bg">Register</button>
                            </div>
                            
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>







            
        
    </div>




</div>
    
</body>


<script>
    $(document).ready(function () {
        $.ajax({
            type: 'GET',
            url: '/api/user-details', 
            success: function (data) {
              
                const createdAt = new Date(data.createdAt);
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };

                const formattedDateTime = createdAt.toLocaleDateString('en-US', options);
                const registerheader = document.getElementById('register');
                const loginheader = document.getElementById('login') ;
                const profileheader = document.getElementById('profile') ;
                const profileicon = document.getElementById('profileicon') ;
                registerheader.style.display = "none";
                loginheader.style.display = "none";
                profileheader.style.display = "block";
                profileicon.style.display = "block";

                $('#username').text('Username: '+ data.name);
                $('#name').text(data.name);
                $('#email').text('Email Address: ' + data.email);
                $('#create').text('First access to site: ' + formattedDateTime);
                $('#update').text('Last access to site: ' + 'Recently');
            },
            error: function (error) {
                console.error('Error fetching user details:', error);
            }
        });
    });
</script>




<script>
    document.addEventListener("DOMContentLoaded", function () {
        fetch('/check-login-status')
            .then(response => response.json())
            .then(data => {
                const isLoggedIn = data.isLoggedIn;

                if (isLoggedIn) {
                    window.location.href = '/profile';
                }
            })
            .catch(error => {
                console.error('Error checking login status:', error);
            });
    });
</script>
</html>