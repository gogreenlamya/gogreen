<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>GoGreen</title> 


	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



	<link rel="stylesheet" href="./public/css/responsive.css">
	<link rel="stylesheet" href="./public/css/style.css">

	<link rel="apple-touch-icon" sizes="180x180" href="./public/images/fav-icon/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="./public/images/fav-icon/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="./public/images/fav-icon/favicon-16x16.png" sizes="16x16">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

 

</head>
<style>
    .dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
}

 .dropdown-content {
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    width: 200px;
    padding: 10px 10px;
    z-index: 20;
}

.dropdown-content a{
    color: black;
    text-decoration: none;
    height: 34px;
    font-size: medium;
    width: 100%;
    text-align: start;
}
.dropdown-content a:hover{
    background-color: rgb(145, 209, 145);
    color: white;
}
.popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 20px;
  background-color: #fff;
  border: 1px solid #ccc;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  z-index: 1000;
}

.popup.show {
  display: block;
}

</style>
<body>

<div class="boxed_wrapper">


<section class="theme_menu stricky">
    <div class="container-fluid">
        <div class="row" id="c">
            <div class="col-md-3">
                <div class="main-logo">
                    <a href="/"><img src="./public/images/logoo.png" alt=""></a>
                </div>
            </div>
            <div class="col-md-9 menu-column">
                <nav class="menuzord" id="main_menu">
                   <ul class="menuzord-menu">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About Us</a></li>
                    <li id="register"><a href="/register">Register</a></li>
                    <li id="login"><a href="/login">Login</a></li>
                    <li><a href="/volunteer">Volunteer</a></li>
                    <li id="profile" style="display: none;"><a href="/profile">Profile</a></li>
                    <li><a href="/feedback">Feedback</a></li>
                    <li><a href="/faq">FAQ</a></li>
                    <li id="profileicon"class="profile_icon"><a href=""><i class="bi bi-person"></i></a></li>

                        <div class="popup" style="width: 159px;display: none;  position: fixed; left: 87%; background-color: white; padding: 10px 20px; top: 95px;">
                        <button id="logoutBtn" style="outline: none; border:none;">Log Out</button>
                        <button class="close" style="border-radius: 50px;
                        border: 2px solid white;
                        padding: 0px 5px;
                        background-color: white;
                        font-weight: 700;
                        color: black;
                        opacity: 1;
                        position: absolute;
                        top: -11px;
                        right: -8px; ">X</button>
                        </div>
                   </ul>
                </nav> 
            </div>
            <div class="right-column">
                <div class="right-area">
                    <div class="nav_side_content">
                   </div>
                </div>
                    
            </div>


        </div>
                

   </div>
</section>


 

<div class="inner-banner has-base-color-overlay text-center" style="background-color: #143601; height: 100vh;">
    <div class="container">
        <div class="box" style="top: 160px;">
             <div class="row">
                 
                 <div class="col-lg-8">
                    <div class="profileDetails">
                        <div><img src="./profile.jpg" alt=""> </div><br><div><h3 id="name"></h3></div>
                    </div>
                    <div class="Details2">
                        <h2>User Details</h2>
                        <h5 id="username">Username: </h5>
                        <h5 id="email">Email Address: </h5>
                       
                    </div>
                    <div class="Details3">
                        <h2>Login Activity</h2>
                        <h5 id="create">First access to site: Monday,4 sep 2023, 5:40 (45days 23 hours)</h5>
                        <h5 id="update">Last access to site: Monday,21 Oct 2023, 9:30 (30 min)</h5>
                    </div>
                 </div>
                 <div class="col-lg-4">
                    <a href="/redeem">
                    <div class="profile_points">
                        <h2>Points</h2>
                        <h3 id="point2">0</h3>
                        <p>Redeem Points</p>

                    </div>
                </a>
                 </div>
               </div>
           </div>


          
        </div>
    </div>
</div>













<div class="border-bottom"></div>









    <button class="scroll-top tran3s color2_bg"><span class="fa fa-angle-up"></span></button>
   
    <div class="preloader"></div>

    
    

     <!-- jQuery -->
     <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
     <script src="./public/js/jquery.js"></script>
     <script src="./public/js/bootstrap.min.js"></script>
     <script src="./public/js/menu.js"></script>
     <script src="./public/js/owl.carousel.min.js"></script>
     <script src="./public/js/jquery.mixitup.min.js"></script>
     <script src="./public/js/jquery.fancybox.pack.js"></script>
     <script src="./public/js/imagezoom.js"></script> 
     <script src="./public/js/jquery.magnific-popup.min.js"></script> 
     <script src="./public/js/jquery.polyglot.language.switcher.js"></script>
     <script src="./public/js/SmoothScroll.js"></script>
     <script src="./public/js/jquery.appear.js"></script>
     <script src="./public/js/jquery.countTo.js"></script>
     <script src="./public/js/validation.js"></script> 
     <script src="./public/js/wow.js"></script> 
     <script src="./public/js/jquery.fitvids.js"></script> 
     <script src="./public/js/nouislider.js"></script> 
     <script src="./public/js/isotope.js"></script> 
     <script src="./public/js/pie-chart.js"></script>
     <script>
        // Fetch user details from the server
        $(document).ready(function () {
            $.ajax({
                type: 'GET',
                url: '/api/user-details', 
                success: function (data) {
    
                  
                    const createdAt = new Date(data.createdAt);
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };
    
                    const formattedDateTime = createdAt.toLocaleDateString('en-US', options);
                    const registerheader = document.getElementById('register');
                    const loginheader = document.getElementById('login') ;
                    const profileheader = document.getElementById('profile') ;
                    const profileicon = document.getElementById('profileicon') ;
                    registerheader.style.display = "none";
                    loginheader.style.display = "none";
                    profileheader.style.display = "block";
                    profileicon.style.display = "block";
    
                    $('#username').text('Username: '+ data.name);
                    $('#name').text(data.name);
                    $('#point').text(data.point+ ' points');
                    $('#point2').text(data.point);
                    $('#email').text('Email Address: ' + data.email);
                    $('#create').text('First access to site: ' + formattedDateTime);
                    $('#update').text('Last access to site: ' + 'Recently');
                },
                error: function (error) {
                    console.error('Error fetching user details:', error);
                }
            });
        });
    </script>
    <script>
        let popupbut = document.querySelector(".profile_icon");
        let popup = document.querySelector(".popup");
        let close = document.querySelector(".close");

        popupbut.addEventListener("click",(e)=>{
            e.preventDefault();
            popup.style.display= "block";
        })
        close.addEventListener("click",(e)=>{
            e.preventDefault();
            popup.style.display= "none";
        })
        
    </script>
    <script>
        $(document).ready(function () {
            $("#logoutBtn").on("click", function () {
                // Send a log-out request to the server
                $.ajax({
                    type: 'GET',
                    url: '/logout',
                    success: function () {
                        // Redirect to the login page after successful log-out
                        window.location.href = '/login';
                    },
                    error: function (error) {
                        console.error('Error during log-out:', error);
                    }
                });
            });
        });
    </script>
 
 
     <!-- revolution slider js -->
     <script src="./public/js/rev-slider/jquery.themepunch.tools.min.js"></script>
     <script src="./public/js/rev-slider/jquery.themepunch.revolution.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.actions.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.carousel.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.kenburn.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.layeranimation.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.migration.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.navigation.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.parallax.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.slideanims.min.js"></script>
     <script src="./public/js/rev-slider/revolution.extension.video.min.js"></script>
 
 
     <script src="./public/js/custom.js"></script>

</div>
    
</body>

</html>